@import url("https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600&family=Ruda:wght@400;600;700&display=swap");

/* ========== Base ========== */
* { padding: 0; margin: 0; box-sizing: border-box; }

body {
  background: #fff;
  min-height: 100vh;
  font-family: "Poppins", sans-serif;
  position: relative;
}

/* ========== Header Navigation ========== */
header {
  background: rgba(255, 255, 255, 0.5);
  padding: 0.5rem 0;
  position: relative;
}
header::after {
  content: "";
  position: absolute; bottom: 0; left: 0;
  width: 100%; height: 5px;
  background: linear-gradient(to top, rgba(0,0,0,0.1), transparent);
}
header nav { display: flex; justify-content: space-between; align-items: center; }

nav a[aria-current="page"] { color: #c0392b; font-weight: 600; }

.container { max-width: 1440px; margin: 0 auto; width: 100%; padding: 0 1.5rem; }

nav .logo { display: flex; justify-content: center; align-items: center; color: #000; }
.logo span { font-size: 2rem; }

nav ul.menu {
  display: flex; list-style: none; gap: .25rem .5rem; flex-wrap: wrap;
}
nav ul.menu li { margin: 0 .4rem; align-items: center; padding: .5rem .5rem; }
nav ul.menu li a {
  text-decoration: none; font-size: 1.1rem; letter-spacing: 2.5px;
  color: #000; padding: .7rem 1rem;
}

#menu-toggle { display: none; }
.menu-icon {
  display: none; font-size: 2rem; cursor: pointer; user-select: none; color: #000; padding: .5rem;
}

nav ul { display: flex; list-style-type: none; }
nav ul li { margin: 0 .4rem; align-items: center; padding: .5rem; }
nav ul li a {
  text-decoration: none; font-size: 1.1rem; letter-spacing: 2.5px;
  color: #000; padding: .7rem 1rem;
}

/* ========== Breadcrumb ========== */
.breadcrumb {
  display: flex; align-items: center; justify-content: flex-start; gap: 12px;
  padding: 12px 60px 0; font-size: .9rem; color: #111; margin-top: 50px;
}
.breadcrumb ol { list-style: none; display: flex; align-items: center; gap: 10px; margin: 0; padding: 0; }
.breadcrumb li + li::before { content: "›"; margin: 0 6px 0 2px; color: #999; }
.breadcrumb a {
  text-decoration: none; color: #000; font-weight: 600; letter-spacing: .02em;
  transition: color .2s ease, text-decoration-color .2s ease;
}
.breadcrumb [aria-current="page"] > a { color: #000; font-weight: 700; }
.breadcrumb a:hover {
  color: #c0392b; text-decoration: underline; text-decoration-thickness: 2px; text-underline-offset: 3px;
}
.breadcrumb .meta { margin-left: 1px; color: #6b7280; font-weight: 600; font-size: .85rem; }

/* ========== Page Title ========== */
.page_title {
  margin: 30px 60px; min-height: 50dvh;
  background:
    linear-gradient(rgba(0,0,0,.45), rgba(0,0,0,.45)),
    url("../img/poems.jpg") center/cover no-repeat;
  display: grid; place-items: center; text-align: center; color: #fff;
  overflow: hidden; padding: 5vh 1.25rem 2.5rem;
}
.title-inner { display: flex; flex-direction: column; align-items: center; gap: 10px; position: relative; z-index: 2; }
.page_title h1 { font-size: clamp(36px, 10vw, 80px); font-weight: 600; border-bottom: clamp(3px, .7vw, 5px) solid #fff; display: inline-block; }

/* ========== Content ========== */
.content { margin: 30px 60px; }
.content h2 {
  font-size: clamp(24px, 3.5vw, 36px); font-weight: 700; text-align: left; margin: 0 0 24px;
  padding-left: calc(max((100% - 100ch)/2, 0px) + 20px); padding-right: 20px;
}
.content p { max-width: 100ch; margin: 0 auto; padding: 0 20px; line-height: 1.9; color: #333; }

.book_heading { margin: 30px 60px; }
.book_heading h2 {
  font-size: clamp(24px, 3.5vw, 36px); font-weight: 700; text-align: left; margin: 0 0 24px;
  padding-left: calc(max((100% - 100ch)/2, 0px) + 20px); padding-right: 20px;
}

/* ========== Flipbook (Half-Page Flip) ========== */
:root{
  /* Book (spread) aspect ratio = 2 * (5.5 / 11.69) ≈ 0.941 */
  --book-w: 820px;    /* you can keep these if you like clamp below better */
  --book-h: 540px;    /* not used when aspect-ratio controls size */
  --page-bg: #fff;
  --page-border: #e5e5e5;

  /* NEW: use the spread ratio for responsive sizing */
  --spread-ratio: 0.941;    /* ≈ 2 * 5.5 / 11.69 */
  --book-min: 280px;
  --book-max: 1100px;       /* adjust max size as you wish */
}


.flipbook {
  position: relative; display: flex; align-items: center; justify-content: center;
  gap: 20px; margin: 30px 60px; z-index: 0;
}

.paper.blank {
  background: #fff;
}
.paper.blank img {
  display: none; /* no content inside blank pages */
}

.flipbook > button {
  position: relative; z-index: 20; background: none; border: none; padding: 8px; cursor: pointer;
}
.flipbook > button img,
.flipbook > button svg { width: 48px; height: 48px; display: block; }
.flipbook > button img { object-fit: contain; }
.flipbook > button:hover { transform: scale(1.08); transition: transform .18s ease; }
/* increase FA icon size */
.flipbook > button i { font-size: 48px; }     /* was ~24–32px */

.book {
  width: clamp(var(--book-min), 90vw, var(--book-max));
  aspect-ratio: var(--spread-ratio);
  perspective: 1800px;
  background: linear-gradient(90deg, #f0f2f7 0, #fff 10%, #fff 90%, #f0f2f7 100%);
  border-radius: 14px;
  box-shadow: 0 30px 60px rgba(0,0,0,.12);
  overflow: hidden;
  position: relative;
  z-index: 10;
}

/* Spine */
.book::before {
  content: "";
  position: absolute; top: 0; bottom: 0; left: 50%;
  width: 2px; transform: translateX(-1px);
  background: linear-gradient(to bottom, rgba(0,0,0,.18), rgba(0,0,0,0) 18%, rgba(0,0,0,0) 82%, rgba(0,0,0,.18));
  pointer-events: none; z-index: 15;
}

/* Remove global shading */
.book::after { display: none; }

/* Hide spine when fully at start or end */
.book.at-start::before,
.book.at-end::before { opacity: 0; }

/* Right-half leaves stack */
.leaves { position: absolute; inset: 0; z-index: 10; }

.leaf {
  position: absolute; top: 0; left: 50%; width: 50%; height: 100%;
  transform-style: preserve-3d; transform-origin: left center;
  transition: transform .9s cubic-bezier(.22,.61,.36,1);
}

/* Faces (can hold text OR images) */
.leaf .face {
  position: absolute; inset: 0;
  display: flex; align-items: center; justify-content: center;
  background: var(--page-bg);
  border-left: 1px solid var(--page-border);
  border-top: 1px solid var(--page-border);
  border-bottom: 1px solid var(--page-border);
  border-radius: 0 10px 10px 0;
  backface-visibility: hidden; overflow: hidden;
}
.leaf .front { transform: rotateY(0deg) translateZ(1px); }
.leaf .back  { transform: rotateY(180deg); }

/* Image content */
.leaf .face img {
  width: 100%; height: 100%; object-fit: cover;
  display: block;
}

.leaf.turned { transform: rotateY(-180deg); }

/* Edge shadows */
.leaf:not(.turned) .front { box-shadow: -6px 0 20px rgba(0,0,0,.08); }
.leaf.turned .back       { box-shadow:  6px 0 20px rgba(0,0,0,.08); }

/* ========== Responsive ========== */
@media (max-width: 980px) {
  .book { transform: scale(.86); transform-origin: center top; }
}
@media (max-width: 820px)  { .book { transform: scale(.78); } }
@media (max-width: 680px)  { .book { transform: scale(.68); } }
@media (max-width: 560px)  {
  .book { transform: scale(.6); }
  .flipbook { gap: 12px; margin: 20px; }
  .flipbook > button img,
  .flipbook > button svg { width: 40px; height: 40px; }
}

.flipbook button { color: inherit; margin: 0; }

/* Header responsive tweaks */
@media (max-width: 900px) {
  .container { padding: 0 1rem; }
  nav ul.menu li a { font-size: 1rem; letter-spacing: 1.5px; padding: .5rem .6rem; }
}
@media (max-width: 768px) {
  .menu-icon { display: block; }
  nav ul.menu {
    display: none; flex-direction: column; width: 100%;
    background: rgba(255,255,255,.95); position: absolute; top: 100%; left: 0;
    padding: 1rem 0; text-align: center; box-shadow: 0 4px 12px rgba(0,0,0,.1); z-index: 10;
  }
  nav ul.menu li { margin: .5rem 0; }
  nav ul.menu li a { display: block; padding: .75rem; font-size: 1.1rem; }
  #menu-toggle:checked ~ ul.menu { display: flex; }
  .logo span { margin-left: 0; }
  .page_title { padding: 16vh 1rem 2rem; }
}

nav .logo, .menu-icon, nav ul.menu li a { color: #000; }
nav ul.menu li a[aria-current="page"] { color: #c0392b; font-weight: 700; }
@media (max-width: 768px) {
  nav ul.menu li a { color: #000; }
  nav ul.menu li a[aria-current="page"] { color: #c0392b; }
}

/* =======================
   Mobile & small screens
   ======================= */
@media (max-width: 600px) {
  /* Let the book pick the larger of: 96vw or 80vh-constrained width,
     while keeping your spread aspect ratio */
  :root {
    /* If you’re using --spread-ratio from earlier, keep it.
       Otherwise set it here (for 5.5" x 11.69" pages): */
    --spread-ratio: 0.941; /* 2 * (5.5 / 11.69) */
  }

  .flipbook {
    gap: 10px;
    margin: 8px 0 72px; /* leave room for bottom buttons on small screens */
  }

  .book {
    /* Width constrained by both viewport width and height */
    width: min(96vw, calc(80vh * var(--spread-ratio)));
    aspect-ratio: var(--spread-ratio);
    border-radius: 8px;
    box-shadow: 0 16px 36px rgba(0,0,0,.12);
    transform: none;           /* cancel any earlier scale() */
    transform-origin: center;  /* ensure it centers */
  }

  /* Optional: on phones, avoid cropping your page images.
     If you prefer full-bleed, keep object-fit: cover instead. */
  .leaf .face img {
    object-fit: contain;
    background: #fff; /* clean margins when using contain */
  }

  /* Make the nav buttons larger and easier to tap */
  .flipbook > button {
    position: fixed;          /* keep arrows reachable */
    bottom: 16px;
    width: 56px;
    height: 56px;
    border-radius: 999px;
    background: rgba(255,255,255,.9);
    box-shadow: 0 6px 16px rgba(0,0,0,.15);
    display: grid;
    place-items: center;
    z-index: 30;
  }
  /* Left / right placement */
  #prev-btn { left: 16px; }
  #next-btn { right: 16px; }

  /* Bigger icons */
  #prev-btn i,
  #next-btn i {
    font-size: 24px;
    line-height: 1;
    color: #111;
  }

  /* Remove hover scaling on touch */
  .flipbook > button:hover { transform: none; }

  /* Tighten shadows/lines to reduce visual noise on small screens */
  .book::before { opacity: .6; } /* spine line a bit softer */
  .leaf:not(.turned) .front,
  .leaf.turned .back { box-shadow: -4px 0 14px rgba(0,0,0,.08); }

  /* If you previously scaled the .book with media queries,
     these ensure those don’t interfere on phones */
  @supports (aspect-ratio: 1) {
    .book { height: auto; } /* aspect-ratio controls height */
  }
}

/* Optional: landscape phones—use a bit more height */
@media (max-width: 900px) and (orientation: landscape) {
  .book { width: min(96vw, calc(88vh * var(--spread-ratio))); }
}
/* Mobile text margin fix */
@media (max-width: 600px) {
  .content,
  .book_heading {
    margin: 16px 20px;   /* smaller margin on phones */
  }

  .content h2,
  .book_heading h2 {
    padding-left: 20px;
    padding-right: 20px;
    text-align: center; /* optional: center headings on phones */
  }

  .content p {
    padding: 0 16px;
    line-height: 1.7;   /* slightly tighter line spacing for phones */
  }
}
